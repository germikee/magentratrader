@{
    ViewBag.Title = "Index";

    var Version = "v.Beta.1.20150205";
}

<link href="/wijmo/styles/wijmo.min.css" rel="stylesheet" />
<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/knockout-3.2.0.js"></script>
<script src="/wijmo/controls/wijmo.min.js" type="text/javascript"></script>
<script src="/wijmo/controls/wijmo.grid.min.js" type="text/javascript"></script>

<nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
    <div class="container topnav">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand topnav" href="/Home"><span><img src="/img/logo-1.png" /></span><span class="hidden-xs"> - Calendar @Version</span></a>
        </div>
    </div>
</nav>

<div id="DivCalendar">

    <div class="container">

        <div class="row">

            <h2 class="section-heading">Calendar</h2>

            <div id="CalendarGrid" class="grid"></div>

        </div>

    </div>

</div>

<script type="text/javascript">
    var CalendarData;
    var CalendarGrid;

    function getCalendarDate(Month, Year) {
        var Sun="", Mon="", Tue="", Wed="", Thu="", Fri="", Sat="";
        var data = new wijmo.collections.ObservableArray();

        // Get the start day, e.g., Monday=1, Tuesday=2, etc.
        var firstDay = new Date(Year, Month, 1);
        var startingDay = firstDay.getDay();

        // Get the month length
        var cal_days_in_month = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        var monthLength = cal_days_in_month[Month];
        if (Month == 1) { //FEB
            if ((Year % 4 == 0 && Year % 100 != 0) || Year % 400 == 0) {
                monthLength = 29;
            }
        }

        var day = 1;
        for (var i = 0; i < 9; i++) {
            for (var j = 0; j <= 6; j++) {
                if (day <= monthLength && (i > 0 || j >= startingDay)) {
                    switch(j) {
                        case 0:
                            Sun = day.toString();
                            break;
                        case 1:
                            Mon = day.toString();
                            break;
                        case 2:
                            Tue = day.toString();
                            break;
                        case 3:
                            Wed = day.toString();
                            break;
                        case 4:
                            Thu = day.toString();
                            break;
                        case 5:
                            Fri = day.toString();
                            break;
                        case 6:
                            Sat = day.toString();
                            break;
                    }
                    day++;
                }
            }
            if (day > monthLength) {
                data.push({
                    Sunday: Sun,
                    Monday: Mon,
                    Tuesday: Tue,
                    Wednesday: Wed,
                    Thursday: Thu,
                    Friday: Fri,
                    Saturday: Sat
                });
                break;
            } else {
                data.push({
                    Sunday: Sun,
                    Monday: Mon,
                    Tuesday: Tue,
                    Wednesday: Wed,
                    Thursday: Thu,
                    Friday: Fri,
                    Saturday: Sat
                });
            }
        }
        return data;
    }
    $(document).ready(function () {
        CalendarData = new wijmo.collections.CollectionView(getCalendarDate(0,2015));
        CalendarGrid = new wijmo.grid.FlexGrid('#CalendarGrid');
        CalendarGrid.initialize({
            columns: [
                        {
                            "header": "Sunday",
                            "binding": "Sunday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        },
                        {
                            "header": "Monday",
                            "binding": "Monday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        },
                        {
                            "header": "Tuesday",
                            "binding": "Tuesday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        },
                        {
                            "header": "Wednesday",
                            "binding": "Wednesday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        },
                        {
                            "header": "Thursday",
                            "binding": "Thursday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        },
                        {
                            "header": "Friday",
                            "binding": "Friday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        },
                        {
                            "header": "Saturday",
                            "binding": "Saturday",
                            "width": 150,
                            "allowSorting": false,
                            "isContentHtml": true
                        }
            ],
            autoGenerateColumns: false,
            itemsSource: CalendarData,
            isReadOnly: true,
            selectionMode: wijmo.grid.SelectionMode.Cell
        });
        CalendarGrid.trackChanges = true;
        CalendarData.pageSize = 5;
    })
</script>

<script src="/lib/jquery/js/jquery.js"></script>
<script src="/lib/bootstrap/js/bootstrap.js"></script>
<script src="/wijmo/controls/wijmo.input.min.js"></script>
<script src="/wijmo/interop/knockout/wijmo.knockout.min.js"></script>


